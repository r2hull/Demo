@Repository
public interface MerchantOrderAccountInfoRepository
        extends JpaRepository<MerchantOrderAccountInfo, UUID> {

    @Query("""
        SELECT mai
        FROM MerchantOrderAccountInfo mai
        JOIN MerchantOrderPayment mop
            ON mai.sbiOrderRefNumber = mop.sbiOrderRefNumber
        WHERE mop.atrnNumber = :atrn
    """)
    List<MerchantOrderAccountInfo> findAccountInfoByAtrn(
            @Param("atrn") String atrn
    );
}