@Configuration
@EnableBatchProcessing
public class BatchConf {

    @Bean
    Job createJob(JobRepository jobRepository, PlatformTransactionManager transactionManager, Step step) {
        return new JobBuilder("job", jobRepository)
                .start(step)
                .build();
    }

    @Bean
    Step createStep(JobRepository jobRepository, PlatformTransactionManager transactionManager,
                    CustomReader reader, CustomProcessor processor, CustomWriter writer) {
        return new StepBuilder("step", jobRepository)
                .<ReportScheduleManagement, ReportManagement>chunk(3, transactionManager)
                .reader(reader)
                .processor(processor)
                .writer(writer)
                .build();
    }
}