spring:
  profiles:
    active: dev
  application:
    name: epay_reporting_service

  # JPA Configuration
  jpa:
    show-sql: true
    properties:
      hibernate:
        show_sql: true
        jdbc:
          batch_size: 400
        order_updates: true
        order_inserts: true
        batch_versioned_data: true
        generate_statistics: true

  # Db Connectivity Configuration
  datasource:
    url: jdbc:oracle:thin:@10.177.134.124:1590:epaydbdev1
    username: 
    password: 
    driver-class-name: oracle.jdbc.OracleDriver

  # Liquibase Properties
  liquibase:
    change-log: classpath:db/changelog/db.changelog-master.xml
    enabled: true
    drop-first: false

  # Kafka Configuration
  kafka:
    bootstrapServers: dev-cluster-kafka-bootstrap-dev-kafka.apps.dev.sbiepay.sbi:443
    consumer:
      groupId: merchant-consumers
      keyDeserializer: org.apache.kafka.common.serialization.StringDeserializer
      valueDeserializer: org.apache.kafka.common.serialization.StringDeserializer
      autoOffsetReset: latest
      autoCommitInterval: 100
      enableAutoCommit: true
      sessionTimeoutMS: 300000
      requestTimeoutMS: 420000
      fetchMaxWaitMS: 200
      maxPollRecords: 5
      retryMaxAttempts: 3
      retryBackOffInitialIntervalMS: 10000
      retryBackOffMaxIntervalMS: 30000
      retryBackOffMultiplier: 2
      spring.json.trusted.packages: com.epay.reporting
      numberOfConsumers: 1
    producer:
      keySerializer: org.apache.kafka.common.serialization.StringSerializer
      valueSerializer: org.apache.kafka.common.serialization.StringSerializer
      acks: all
      retries: 3
      batchSize: 1000
      lingerMs: 1
      bufferMemory: 33554432
    topic:
      report: merchant_report_topic
      partitions: 4
      replicationFactor: 1

  # External API Configuration
  external:
    api:
      merchant:
        services:
          base:
            path: http://localhost:9093/merchant/v1

  # Spring Security Configuration
  security:
    jwt:
      secret:
        issuer: https://sbi.epay.com
        key: gdjfgskjfhsdjkhkflkdlksdlfkskfwperip3ke3le3lmldrnkfnhiewjfejfokepfkldkfoikfokork3dklwedlsvflvkfkvlkdfvodkvcdokro3
    whitelist:
      urls: /webjars/, /actuator/, /swagger-resources/, /v3/api-docs, /v3/api-docs/**, /swagger-ui/**, /index.html
    cors:
      allowed:
        origins: "*"

  # Logging Configuration
  logging:
    level:
      liquibase: DEBUG

  # Server Configuration
  server:
    servlet:
      context-path: /reporting/v1/
    port: 9096

  # Scheduled Tasks Configuration
  scheduled:
    cron:
      time: 0 */30 * * * *
    report:
      execution:
        window: 30