@Repository
public interface ReportScheduleManagementRepository extends JpaRepository<ReportScheduleManagement, UUID> {

    @Query("SELECT r FROM ReportScheduleManagement r WHERE r.status = :status AND r.nextScheduleExecutionTime BETWEEN :currentTime AND :endTime ")
    List<ReportScheduleManagement> findByStatusAndNextScheduleExecutionTime(
            @Param("status") ReportScheduledStatus status,
            @Param("currentTime") Long currentTime,
            @Param("endTime") Long endTime
    );
}