@Test
void testGenerateMerchantFeesInvoice_GeneralExceptionHandling() {
    // Given
    String mId = "12345";
    List<String> reportDates = List.of("2024-01");

    doThrow(new RuntimeException("Unexpected Error")).when(fileGeneratorService).downloadFile(any(), any(), any(), any(), any());

    // When & Then
    Exception exception = assertThrows(ReportingException.class, 
        () -> invoiceService.generateMerchantFeesInvoice(mId, reportDates, this.response));
    
    // Validate exception message
    assertTrue(exception.getMessage().contains("Failed to generate PDF"));
}