<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/1999/xhtml" lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        .container {
            max-width: 700px;
            margin: 20px auto;
            padding: 20px;
            background: #fff;
            border: 1px solid #000;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .header img {
            width: 150px;
        }
        .title {
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            border: 1px solid black;
            padding: 10px;
            margin-bottom: 20px;
        }
        .section {
            border: 1px solid #000;
            padding: 10px;
            margin-bottom: 10px;
        }
        .row {
            display: flex;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 8px;
        }
        .column {
            flex: 1;
        }
        .amount {
            text-align: right;
        }
        .bold {
            font-weight: bold;
        }
        .footer {
            font-size: 14px;
            border-top: 1px solid black;
            padding-top: 10px;
            margin-top: 20px;
        }
        .signature {
            margin-top: 40px;
            padding-top: 10px;
            text-align: left;
            border-top: 1px solid black;
        }
        .divider {
            border-top: 1px solid black;
            margin-top: 10px;
            padding-top: 10px;
        }
    </style>
    <title th:text="${map.reportName}"></title>
</head>
<body>

<div class="container">
    
    <!-- Header -->
    <div class="header">
        <img alt="SBI ePay" src="CC"/>
    </div>

    <!-- Invoice Title -->
    <div class="title">MONTHLY INVOICE</div>

    <!-- Merchant & Invoice Details -->
    <div class="section">
        <div class="row">
            <div class="column">
                <p><span class="bold">Kind Attn:</span> <span th:text="${map.merchantName}"></span></p>
                <p><span class="bold">GSTIN:</span> <span th:text="${map.gstNo}"></span></p>
                <p><span class="bold">HSN/SAC:</span> <span th:text="${map.hsnSacNum}"></span></p>
                <p th:text="${map.address}"></p>
            </div>
            <div class="column amount">
                <p><span class="bold">Invoice No:</span> <span th:text="${map.reportName}"></span></p>
                <p><span class="bold">Date:</span> <span th:text="${map.date}"></span></p>
            </div>
        </div>
    </div>

    <!-- Description Section -->
    <div class="section">
        <div class="row bold">
            <span>Description</span>
            <span class="amount">Amount (Rs.)</span>
        </div>

        <div class="row">
            <span>Transaction processing in the month of <span th:text="${map.reportName}"></span></span>
            <span class="amount"></span>
        </div>

        <!-- Transaction Details -->
        <div class="section">
            <p class="bold">SBIePay Transactions - As per Annexure I</p>

            <div class="row bold">
                <span>Gateway</span>
                <span>Transaction Count</span>
                <span>GST Rate</span>
            </div>

            <div th:each="merchantFees : ${map.merchantFeesList}" class="row">
                <span th:text="${merchantFees.getPayMode()}"></span>
                <span th:text="${merchantFees.getTransactionCount()}"></span>
                <span>18%</span>
            </div>
        </div>

        <div class="row">
            <span></span>
            <span class="amount">
                <span th:each="merchantFees : ${map.merchantFeesList}">
                    <span th:text="${merchantFees.getMerchantFeeAmount()}"></span><br/>
                </span>
            </span>
        </div>

        <div class="row">
            <span class="bold" style="text-align: center;">18% (CGST 9% + SGST 9%)</span>
            <span class="amount"><span th:text="${map.totalMerchantServiceTaxAmount}"></span></span>
        </div>

        <div class="row bold">
            <span style="text-align: center;">Gross Total Amount</span>
            <span class="amount"><span th:text="${map.totalMerchantTotalCommission}"></span></span>
        </div>

        <div class="row">
            <span class="bold" style="text-align: center;" th:text="${map.totalMerchantTotalCommissionInWords}"></span>
        </div>
    </div>

    <!-- Payment & Bank Details -->
    <div class="footer">
        <p><span class="bold">PAN:</span> AACAS8577K</p>
        <p><span class="bold">GSTIN:</span> 27AAACS8577K2ZO</p>
        <p><span class="bold">HSN/SAC:</span> 997119</p>
        <p>Please remit through RTGS/NEFT to Account No. 4897932117777 maintained with
            SBI, SBI CAPITAL MARKET BRANCH MUMBAI (IFSC: SBIN0011777)</p>
    </div>

    <!-- Signature Section -->
    <div class="signature">
        <p>For SBIePay</p>
        <p>(Signature and Company Seal)</p>
        <p>Authorized Signatory</p>
    </div>

</div>

<div class="container">
    <p>State Bank of India, Payment Aggregator-SBIePay,<br/>D$TB-Marketing Department, 3rd Floor, D-wing</p>
</div>

</body>
</html>