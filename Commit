@Repository
public class ReportScheduleManagementDao {

    @Autowired
    private ReportScheduleManagementRepository repository;

    public List<ReportScheduleManagement> fetchScheduledReports(long startTime, long endTime) {
        return repository.findByStatusAndNextScheduleExecutionTime(ReportScheduledStatus.TO_BE_START, startTime, endTime);
    }

    public void updateLastExecutionTime(ReportScheduleManagement schedule) {
        schedule.setLastScheduleExecutionTime(System.currentTimeMillis());
        repository.save(schedule);
    }
}




@Repository
public class ReportManagementDao {

    @Autowired
    private ReportManagementRepository repository;

    public void saveAll(List<ReportManagement> reports) {
        repository.saveAll(reports);
    }
}