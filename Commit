@Repository
public class ReportScheduleManagementDao {

    @Autowired
    private ReportScheduleManagementRepository reportScheduleManagementRepository;

    public List<ReportScheduleManagement> findByStatusAndNextScheduleExecutionTime(long scheduleStartTime, long scheduleEndTime) {
        return reportScheduleManagementRepository.findByStatusAndNextScheduleExecutionTime(
                ReportScheduledStatus.TO_BE_START, scheduleStartTime, scheduleEndTime);
    }

    public void updateScheduleExecutionTime(ReportScheduleManagement schedule) {
        schedule.setLastScheduleExecutionTime(DateTimeUtils.getCurrentTimeInMills());
        reportScheduleManagementRepository.save(schedule);
    }
}




@Repository
public class ReportManagementDao {

    @Autowired
    private ReportManagementRepository reportManagementRepository;

    public void saveAll(List<ReportManagement> reportManagementList) {
        reportManagementRepository.saveAll(reportManagementList);
    }
}


