@Test
void testGenerateReport_ExceptionHandling() {
    // Scenario: Report type is null, leading to a ReportingException
    reportManagementDto.setReport(null);
    when(reportManagementDao.updateReportStatus(uId, ReportStatus.GENERATION_STARTED)).thenReturn(reportManagementDto);

    doNothing().when(reportManagementDao).updateStatusAndRemarks(
            eq(reportManagementDto.getId()),
            eq(ReportStatus.GENERATION_FAILED),
            contains("Report Generation Failed")
    );

    // Assert that the exception is thrown
    ReportingException exception = assertThrows(ReportingException.class, () -> reportService.generateReport(uId));

    // Verify exception details
    assertNotNull(exception);
    assertEquals(ErrorConstants.GENERATION_ERROR_CODE, exception.getErrorCode());
    assertTrue(exception.getMessage().contains("Report Generation Failed"));

    // Verify that the failure status update was called
    verify(reportManagementDao, times(1)).updateStatusAndRemarks(
            eq(reportManagementDto.getId()),
            eq(ReportStatus.GENERATION_FAILED),
            contains("Report Generation Failed")
    );
}