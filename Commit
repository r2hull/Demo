GetMapping(value = "/mixed-response", produces = MediaType.MULTIPART_MIXED_VALUE) public ResponseEntity<byte[]> getMixedResponse() throws Exception { // Part 1: JSON Content String jsonContent = "{\"message\": \"This is JSON data\"}"; // Part 2: File Content byte[] fileContent = "This is a sample file content".getBytes(); ByteArrayResource fileResource = new ByteArrayResource(fileContent); // Create Multipart Response MimeMultipart mimeMultipart = new MimeMultipart("mixed"); // Add JSON part MimeBodyPart jsonPart = new MimeBodyPart(); jsonPart.setContent(jsonContent, "application/json"); mimeMultipart.addBodyPart(jsonPart); // Add file part MimeBodyPart filePart = new MimeBodyPart(); filePart.setContent(fileResource.getInputStream(), "application/octet-stream"); filePart.setFileName("sample.txt"); mimeMultipart.addBodyPart(filePart); // Convert MimeMultipart to ByteArray ByteArrayOutputStream outputStream = new ByteArrayOutputStream(); mimeMultipart.writeTo(outputStream); byte[] responseBytes = outputStream.toByteArray(); // Set headers HttpHeaders headers = new HttpHeaders(); headers.setContentType(MediaType.MULTIPART_MIXED); headers.setContentLength(responseBytes.length); return new ResponseEntity<>(responseBytes, headers, HttpStatus.OK);